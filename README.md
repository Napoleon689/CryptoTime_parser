# Создание мобильного устройства для вывода курса криптовалюты “CryptoTime”
CryptoTime - это устройство, основанное на ESP32 c OLED экраном. CryptoTime поддерживает 300 различных монет, управление происходит через Telegram-бота, где вы можете: 
- Изменять размер тикера
- Изменять размер курса
- Изменять точность дневного изменения
- Поддержка режимов сна/гиперсна
- Видеть курса в 6-ти различных валютах
- Устанавливать оповещения на понижение/повышение
## О чем этот проект? ##
Проект CryptoTime разрабатывался, как настольный парсер криптовалют, управление которого может происходить через сервис Telegram-бота.
Вы можете изменять проект так, как вам хочется, но в этом случае будет утеряна возмножность использования Telegram-бота <https://t.me/CryptoTimeParser_bot>.
Полная документация содержится 
## Установка кода ##
Подключите плату устройство через порт USB Micro к компьютеру и откройте New_parser.ino в среде Arduino IDE.
Перейдите в `Инструменты -> Плата -> Менеджер плат` и установите пакет `esp32 от Espressif Systems`.
После установки перейдите в меню `Инструменты -> Плата -> esp32 -> ESP32 Dev Module`.

Установите все необходимые библиотеки через `Инструменты -> Управление библиотеками`. Ниже приведен список библиотек, которые были использованы в этом проекте. Вы сможете найти их, введя названия в строку поиска.
Используемые бибилотеки: 
- WiFi.h
- WiFiClientSecure.h
- WebServer.h
- UniversalTelegramBot.h
- ArduinoJson.h
- Wire.h
- Adafruit_GFX.h
- Adafruit_SSD1306.h

**Примечание**: не забудьте ввести BOTtoken, если будете изменять код.
## Словарь монет ##
При самостоятельном обновлении словаря монет, используейте код на языке Python, который использует [api.coingecko.com](https://docs.coingecko.com/reference/introduction). Откройте код Crypto_parser_getCoin и установите библиотеку `requests` для выполнения HTTP-запросов. 
Изменятйте переменные per_page и pages_needed, чтобы получить при выводе необходимое колличество монет.
- per_page - задает количество криптовалют, получаемых на каждой странице
- pages_needed - задает количество страниц, чтобы получить данные по криптовалютам

Создается список cpp_array, куда добавляются строки в формате C++ для каждого элемента списка coins.
Каждая строка содержит имя криптовалюты (name), URL для получения цены в C++ коде (api_url), и символ (тикер) криптовалюты (symbol).
Строки объединяются через запятую и выводятся в формате C++ массива.
## Дополнение ##
Для устройства CryptoTime написана [инструкиця](https://telegra.ph/Instrukciya-po-rabote-s-parserom-kriptovalyuty-CryptoTime-08-08) на сервие [telegra.ph](https://ru.wikipedia.org/wiki/Telegraph_(%D0%B1%D0%BB%D0%BE%D0%B3-%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D0%B0)). Рекомендуем к прочтению перед использованием.
Полная документация по разработке устройства содержится в файле [Техническая документация "CryptoTime"](google.com). Модель корпуса расположена в файле Crypto_parser_body, ссылки на все компоненты представлены ниже: 
- [Нейлоновая одноголовая шестигранная изолирующая шпилька с гайкой M3x30](https://sl.aliexpress.ru/p?key=zcOtrmn)
- [M3x5 прозрачные акриловые крестовые винты с круглой головкой](https://sl.aliexpress.ru/p?key=MbOtr3e)
- [Разъем USB Type-C (мама)](https://sl.aliexpress.ru/p?key=QqOtrTn)
- [Ideaspark Макетная плата ESP32 с OLED-дисплеем 0,96 дюйма](https://sl.aliexpress.ru/p?key=uJOtrWc)

Проект был вдохновлен идеей [Биткоин тикера](https://github.com/AndrewBudziszek/bitcoin-ticker-esp32) на основе ESP32.
